# 2.OBB包围盒碰撞检测

使用unity自带的物理系统可以基本可以满足伤害判定的需求，但是还是存在很多问题。

1. 性能开销。如果基于boxcollider进行伤害判定，场景中的花草树木也会被纳入到判断之中，对性能是一笔额外的开销。况且，unity物理系统本身开销也非常大。
2. 不够敏捷。技能需要附带额外的boxcollider2d组件。在伤害范围修正时，还需要修改组件中的大小。

对于某些需求，比如：在0.2秒内，判断特定物体（如玩家）是不是在技能范围内。

在这种情况下，使用自己实现的碰撞检测算法无疑是最好的选择。

### OBB包围盒

AABB包围盒的边沿着坐标轴方向，判断是否发生碰撞非常容易。只需要判断在x轴和y轴的投影线，是不是均发生重合就可以了。

但是对于OBB包围盒来说，AABB的方法不在适用了。因为两个OBB包围盒的坐标轴，不一定是平行的。不过，我们仍然可以沿用AABB碰撞检测的思路

<figure><img src="../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>

首先以左边矩形的坐标系为准，将两个矩形投影到坐标系上

![](<../.gitbook/assets/image (17).png>)
