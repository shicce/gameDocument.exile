# 3.系统与数据设计

1. 战斗系统

<figure><img src=".gitbook/assets/image.png" alt=""><figcaption><p>战斗相关字段</p></figcaption></figure>

伤害计算公式=

attack \* Π(typedAttackMultiplier - typedPersistent) \* ( 1 + criticalDamage if crirical) \* (skillMultiplier) \* Π(1+enemySpecificDebuff) + attackAdder -\
defense \* ( 1 - damageReduction) \* ( 1 + 1.5 \* enemyLevel/1000)^clamp(levelDiff, -20, 5)\
**typedAttackMultiplier**：特定伤害加成（如火焰伤害加成）\
**typedPersistent**：特定伤害抵抗（如火焰抵抗）\
**skillMultiplier**：技能系数，默认为1\
**enemySpecificDebuff**：特定Debuff类型（如接下来五秒内，受到伤害+20%）\
**attackAdder** ：附带的额外伤害\
**damageReduction**：防御削减\
**levelDiff**：等级差\
